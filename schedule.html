<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>L·ªãch xu·∫•t b·∫£n ‚Äì C·ªïng truy·ªÅn th√¥ng s·ªë</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
   :root{
      /* Colors */
      --teal-600:#0E7C66; --teal-700:#0B6A57; --teal-50:#E6F4F1; --teal-100:#D9F2EA;
      --amber-500:#FFB703; --amber-600:#F29F05;
      --blue-500:#3B82F6; --pink-500:#FF006E;
      --green-500:#22C55E; --red-500:#E63946; --orange-500:#F59E0B;
      --bg:#F8FAFC; --card:#FFFFFF; --text:#0F172A; --text-2:#475569; --border:#E2E8F0;
      --shadow:0 2px 8px rgba(15,23,42,.08);
      --radius:12px; --radius-lg:16px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:'Inter',sans-serif;background:var(--bg);color:var(--text)}
    .app{display:grid;grid-template-columns:280px 1fr 360px;}
    .sidebar{background:var(--teal-600);color:#fff;display:flex;flex-direction:column}

    .brand{display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;border-bottom:1px solid rgba(255,255,255,.12)}
    .brand-logo{width:36px;height:36px;border-radius:10px;background:#fff;display:grid;place-items:center;color:var(--teal-600);font-weight:700}
    .nav{padding:.5rem}
    .nav a{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;border-radius:10px;color:#E6FFFA;text-decoration:none}
    .nav a:hover,.nav a.active{background:rgba(255,255,255,.12)}

    .main{display:flex;flex-direction:column}
    .topbar{position:sticky;top:0;background:#fff;box-shadow:var(--shadow);z-index:10}
    .topbar-inner{display:flex;align-items:center;gap:1rem;padding:.75rem 1rem}
    .crumbs{color:var(--text-2)}

    .calendar-wrap{display:grid;grid-template-rows:auto 1fr;gap:1rem;padding:1rem}
    .toolbar{display:flex;flex-wrap:wrap;gap:.5rem;align-items:center}
    .btn{border:1px solid var(--border);background:#fff;border-radius:10px;padding:.55rem .85rem;font-weight:600;cursor:pointer}
    .btn.primary{background:var(--teal-600);border-color:var(--teal-600);color:#fff}

    .month{display:flex;align-items:center;gap:.75rem}
    .month h2{margin:0;font-size:1.5rem}

    .grid{display:grid;grid-template-columns:repeat(7,1fr);gap:.5rem;background:#fff;border:1px solid var(--border);border-radius:12px;padding:1rem;box-shadow:var(--shadow)}
    .day-header{font-weight:600;text-align:center;color:var(--text-2)}
    .day{min-height:120px;border:1px solid var(--border);border-radius:10px;padding:.5rem;display:flex;flex-direction:column;gap:.3rem;position:relative;background:#fff;cursor:pointer}
    .day:hover{outline:2px solid var(--teal-50)}
    .day.selected{outline:2px solid var(--teal-600)}
    .day-number{font-weight:700;color:var(--text-2)}
    .event{background:var(--teal-50);border-left:4px solid var(--teal-600);border-radius:8px;padding:.25rem .5rem;font-size:.85rem;color:var(--text);line-height:1.3}
    .event.fb{border-left-color:#1877F2;background:#E8F1FF}
    .event.tt{border-left-color:#000;background:#F3F3F3}
    .event.yt{border-left-color:#FF0000;background:#FFE9E9}
    .event.web{border-left-color:var(--teal-600);background:#E6F4F1}

    /* Right panel */
    .side{padding:1rem;border-left:1px solid var(--border);display:grid;gap:1rem;position:sticky;top:64px;height:calc(100vh - 64px);overflow:auto;background:#FDFEFF}
    .card{background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);padding:1rem}
    .card h3{margin-top:0;font-size:1rem}
    .form-row{display:grid;gap:.4rem;margin-bottom:.75rem}
    .input, select, textarea{width:100%;border:1px solid var(--border);border-radius:8px;padding:.55rem .7rem;font:inherit}

    @media(max-width:1200px){
      .app{grid-template-columns:72px 1fr}
      .nav a span,.brand span{display:none}
      .side{position:static;height:auto;border-left:0}
    }
  </style>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="brand"><div class="brand-logo">üìÖ</div><span><strong>L·ªãch xu·∫•t b·∫£n</strong></span></div>
     <nav class="nav">
  <a href="/index.html" class="nav-link">üìä <span>Dashboard</span></a>
  <a href="/editor.html" class="nav-link">üìù <span>N·ªôi dung</span></a>
  <a href="/schedule.html" class="nav-link">üìÖ <span>L·ªãch xu·∫•t b·∫£n</span></a>
  <a href="/livestream.html" class="nav-link">üé• <span>Livestream</span></a>
  <a href="/campaign.html" class="nav-link">üì¢ <span>Chi·∫øn d·ªãch</span></a>
  <a href="/seo.html" class="nav-link">‚öôÔ∏è <span>SEO & Hi·ªáu nƒÉng</span></a>
  <a href="/profile.html" class="nav-link">üë§ <span>Ng∆∞·ªùi d√πng</span></a>
</nav>
    </aside>

    <main class="main">
      <div class="topbar">
        <div class="topbar-inner">
          <div class="crumbs">L·ªãch xu·∫•t b·∫£n</div>
        </div>
      </div>

      <section class="calendar-wrap">
        <div class="toolbar">
          <div class="month">
            <button id="prevBtn" class="btn">‚Üê</button>
            <h2 id="monthLabel">Th√°ng 12 / 2025</h2>
            <button id="nextBtn" class="btn">‚Üí</button>
          </div>
          <button id="todayBtn" class="btn">H√¥m nay</button>
        </div>

        <div id="calendar" class="grid" aria-label="L·ªãch xu·∫•t b·∫£n">
          <!-- headers -->
          <div class="day-header">T2</div><div class="day-header">T3</div><div class="day-header">T4</div><div class="day-header">T5</div><div class="day-header">T6</div><div class="day-header">T7</div><div class="day-header">CN</div>
          <!-- days will be injected by JS -->
        </div>
      </section>
    </main>

    <!-- RIGHT panel: form t·∫°o l·ªãch & s·ª± ki·ªán s·∫Øp t·ªõi -->
    <aside class="side">
      <div class="card">
        <h3>T·∫°o l·ªãch m·ªõi</h3>
        <div class="form-row"><label>Ti√™u ƒë·ªÅ n·ªôi dung</label><input id="titleInput" class="input" placeholder="VD: Livestream menu m·ªõi"/></div>
        <div class="form-row"><label>Ng√†y xu·∫•t b·∫£n</label><input id="dateInput" type="date" class="input"/></div>
        <div class="form-row"><label>K√™nh xu·∫•t b·∫£n</label>
          <select id="channelInput" class="input">
            <option value="fb">Facebook</option>
            <option value="yt">YouTube</option>
            <option value="tt">TikTok</option>
            <option value="web">Website</option>
          </select>
        </div>
        <div class="form-row"><label>Ghi ch√∫</label><textarea id="noteInput" rows="3" class="input" placeholder="M√¥ t·∫£ n·ªôi dung ho·∫∑c link b√†i vi·∫øt"></textarea></div>
        <button id="addBtn" class="btn primary" style="width:100%">Th√™m v√†o l·ªãch</button>
      </div>

      <div class="card">
        <h3>S·ª± ki·ªán s·∫Øp t·ªõi</h3>
        <div id="upcoming"></div>
      </div>
    </aside>
  </div>

  <script>
    // ====== State ======
    const calendarEl = document.getElementById('calendar');
    const monthLabel = document.getElementById('monthLabel');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const todayBtn = document.getElementById('todayBtn');
    const dateInput = document.getElementById('dateInput');
    const titleInput = document.getElementById('titleInput');
    const channelInput = document.getElementById('channelInput');
    const noteInput = document.getElementById('noteInput');
    const addBtn = document.getElementById('addBtn');
    const upcomingEl = document.getElementById('upcoming');

    let view = new Date(); // current month in view
    let selectedISO = null; // yyyy-mm-dd selected day

    // demo data
    const events = {
      // ISO: [{title, channel, note}]
    };

    // seed a few items for demo
    (function seed(){
      const d = new Date();
      const y = d.getFullYear();
      const m = d.getMonth();
      const mk = iso(new Date(y, m, 2));
      events[mk] = [{title:'FB: Gi·ªõi thi·ªáu menu Noel', channel:'fb'}];
    })();

    // ====== Helpers ======
    function pad(n){ return String(n).padStart(2,'0'); }
    function iso(d){ return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`; }
    function monthName(n){
      return ['01','02','03','04','05','06','07','08','09','10','11','12'][n];
    }
    function channelClass(ch){ return ch==='fb'?'fb': ch==='yt'?'yt': ch==='tt'?'tt':'web'; }

    // ====== Rendering ======
    function render(){
      // header label
      monthLabel.textContent = `Th√°ng ${view.getMonth()+1} / ${view.getFullYear()}`;

      // remove old day cells (keep 7 headers)
      [...calendarEl.querySelectorAll('.day')].forEach(el=>el.remove());

      const first = new Date(view.getFullYear(), view.getMonth(), 1);
      const startIdx = (first.getDay()+6)%7; // convert Sun=0 -> 6 (VN week starts Monday)
      const daysInMonth = new Date(view.getFullYear(), view.getMonth()+1, 0).getDate();
      const totalCells = 42; // 6 weeks grid

      for(let i=0;i<totalCells;i++){
        const cell = document.createElement('div');
        cell.className='day';
        const dayNum = i - startIdx + 1;
        if(dayNum>0 && dayNum<=daysInMonth){
          const dateObj = new Date(view.getFullYear(), view.getMonth(), dayNum);
          const key = iso(dateObj);
          const num = document.createElement('div');
          num.className='day-number';
          num.textContent = String(dayNum);
          cell.appendChild(num);

          // events list
          (events[key]||[]).forEach(ev=>{
            const div = document.createElement('div');
            div.className = `event ${channelClass(ev.channel)}`;
            div.textContent = ev.title;
            div.title = ev.note || '';
            cell.appendChild(div);
          });

          // selection behavior
          cell.addEventListener('click', ()=>{
            selectedISO = key;
            highlightSelected(key);
            dateInput.value = key; // sync form
          });

          // highlight today
          const todayISO = iso(new Date());
          if(key===todayISO) cell.style.boxShadow='inset 0 0 0 2px var(--blue-500)';
        } else {
          cell.style.background = '#F8FAFC';
        }
        calendarEl.appendChild(cell);
      }

      renderUpcoming();
    }

    function highlightSelected(key){
      calendarEl.querySelectorAll('.day').forEach(d=>d.classList.remove('selected'));
      // find the cell with matching day-number text
      const date = new Date(key);
      const first = new Date(view.getFullYear(), view.getMonth(), 1);
      if(date.getMonth()!==view.getMonth()) return; // only highlight if in current view
      const idx = ((date.getDay()+6)%7) + (date.getDate()-1);
      const cell = calendarEl.querySelectorAll('.day')[idx];
      if(cell) cell.classList.add('selected');
    }

    function renderUpcoming(){
      const today = new Date();
      const list = [];
      for(const k in events){
        const dt = new Date(k);
        if(dt >= new Date(today.getFullYear(), today.getMonth(), today.getDate())){
          (events[k]||[]).forEach(ev=> list.push({date:k, ...ev}));
        }
      }
      list.sort((a,b)=> a.date.localeCompare(b.date));
      upcomingEl.innerHTML = list.slice(0,8).map(i=>
        `<div style="border:1px solid var(--border);border-radius:10px;padding:.5rem;margin:.4rem 0;display:flex;justify-content:space-between;gap:.5rem">
           <div><strong>${i.title}</strong><div style="color:var(--text-2);font-size:.9rem">${i.date}</div></div>
           <span class="event ${channelClass(i.channel)}" style="padding:.2rem .5rem">${i.channel.toUpperCase()}</span>
         </div>`
      ).join('') || '<div style="color:var(--text-2)">Ch∆∞a c√≥ s·ª± ki·ªán s·∫Øp t·ªõi.</div>';
    }

    // ====== Actions ======
    prevBtn.onclick = ()=>{ view = new Date(view.getFullYear(), view.getMonth()-1, 1); render(); };
    nextBtn.onclick = ()=>{ view = new Date(view.getFullYear(), view.getMonth()+1, 1); render(); };
    todayBtn.onclick = ()=>{ view = new Date(); render(); };

    addBtn.onclick = ()=>{
      const title = titleInput.value.trim();
      const channel = channelInput.value;
      const dateStr = (dateInput.value || selectedISO || iso(new Date()));
      if(!title){ alert('Nh·∫≠p ti√™u ƒë·ªÅ n·ªôi dung'); return; }
      if(!dateStr){ alert('Ch·ªçn ng√†y xu·∫•t b·∫£n'); return; }
      if(!events[dateStr]) events[dateStr]=[];
      events[dateStr].push({title, channel, note: noteInput.value.trim()});
      titleInput.value = noteInput.value = '';
      // re-render if same month is in view
      const d = new Date(dateStr);
      if(d.getFullYear()===view.getFullYear() && d.getMonth()===view.getMonth()) render();
      else { view = new Date(d.getFullYear(), d.getMonth(), 1); render(); }
    };

    // init: set view to current month and set dateInput default
    (function init(){
      const now = new Date();
      view = new Date(now.getFullYear(), now.getMonth(), 1);
      dateInput.value = iso(now);
      render();
    })();
  </script>
 <script type="module" src="/src/schedule.js"></script>
  <script>
  const path = window.location.pathname;

  document.querySelectorAll('.nav a').forEach(link => {
    const href = link.getAttribute('href');

    const isHome = (path === "/" || path === "/index.html") && href === "/index.html";
    const isMatch = href === path;

    if (isHome || isMatch) {
      link.classList.add("active");
    }
  });
</script>

</body>
</html>
